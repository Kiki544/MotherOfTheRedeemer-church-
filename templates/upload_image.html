{% extends "base.html" %}
{% load static %}

{% block title %}Upload Image{% endblock %}

{% block content %}
<h1>Upload Image</h1>

{% if user.is_authenticated and user.is_staff %}
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    <p>
        {{ form.image.label_tag }}<br>
        {{ form.image }}
        {% if form.image.errors %}
            <span style="color:red">{{ form.image.errors }}</span>
        {% endif %}
    </p>
    
    <p>
        {{ form.caption.label_tag }}<br>
        {{ form.caption }}
        {% if form.caption.errors %}
            <span style="color:red">{{ form.caption.errors }}</span>
        {% endif %}
    </p>
    
    <p>
        {{ form.category.label_tag }}<br>
        {{ form.category }}
        {% if form.category.errors %}
            <span style="color:red">{{ form.category.errors }}</span>
        {% endif %}
    </p>
    
    <button type="submit">Upload</button>
</form>
{% else %}
<p>You do not have permission to upload images.</p>
{% endif %}
{% endblock %}
