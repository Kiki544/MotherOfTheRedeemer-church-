{% extends "base.html" %}
{% load static %}

{% block content %}
<h1>Gallery</h1>

<!-- Category Filter Buttons -->
<div class="category-filters">
    <a href="{% url 'gallery' %}?category=general" 
       class="filter-btn {% if selected_category == 'general' %}active{% endif %}">
       General
    </a>
    <a href="{% url 'gallery' %}?category=thanksgiving" 
       class="filter-btn {% if selected_category == 'thanksgiving' %}active{% endif %}">
       Thanksgiving
    </a>
</div>

<div class="gallery-list">
    {% for img in images %}
        <div class="gallery-item">
            <img src="{{ img.image.url }}" alt="{{ img.caption }}">
            {% if img.caption %}
                <p class="caption">{{ img.caption }}</p>
            {% endif %}
        </div>
    {% empty %}
        <p>No images available in this category.</p>
    {% endfor %}
</div>

<div class="gallery-list">
  {% for img in images %}
    <div class="gallery-item">
        <img src="{{ img.image.url }}" alt="{{ img.caption }}" class="gallery-image">
        {% if img.caption %}
            <p class="caption">{{ img.caption }}</p>
        {% endif %}
        
        {% if user.is_authenticated and user.is_staff %}
            <p><a href="{% url 'delete_image' img.id %}">Delete</a></p>
        {% endif %}
    </div>
{% empty %}
    <p>No images yet.</p>
{% endfor %}

</div>

{% endblock %}
